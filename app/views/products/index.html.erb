<%# app/views/products/index.html.erb %>
<h1 class="text-2xl font-bold mb-6">Products</h1>
<div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
  <% @products.each do |product| %>
    <div class="bg-white rounded-lg shadow p-4 flex flex-col">
      <% if product.images.edges.any? %>
        <img src="<%= product.images.edges[0].node.url %>" alt="<%= product.title %>" class="mb-2 rounded object-cover h-40 w-full" />
      <% end %>
      <h2 class="font-semibold text-lg mb-1"><%= product.title %></h2>
      <p class="text-gray-600 text-sm mb-2"><%= product.description.truncate(80) %></p>
      <div class="mt-auto">
        <span class="text-green-600 font-bold">
          <%= number_to_currency(product.price_range.min_variant_price.amount, unit: product.price_range.min_variant_price.currency_code) %>
        </span>
      </div>
    </div>
  <% end %>
</div>
